<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuestra Historia ❤️</title> <style>
        /* --- ESTILOS CSS INCRUSTADOS --- */
        @import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@300;400;500;700&display=swap');

        :root {
            --primary-color: #e91e63; /* Rosa Fuerte */
            --secondary-color: #880e4f; /* Rosa Oscuro */
            --text-color: #333;
            --light-bg: #ffebee; /* Rosa Muy Claro */
            --card-border: #f8bbd0; /* Rosa Claro para bordes */
            --font-fancy: 'Pacifico', cursive;
            --font-body: 'Quicksand', sans-serif;
        }

        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(to bottom right, #fce4ec, #e0f2f7); /* Degradado suave y romántico */
            font-family: var(--font-body);
            /* overflow: hidden;  QUITADO para que los corazones puedan salir de la pantalla por arriba */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            position: relative;
            color: var(--text-color);
        }

        h1, h2 {
            font-family: var(--font-fancy);
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        /* --- Fondo de imágenes animadas (80x80px) --- */
        .animated-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden; /* Se mantiene aquí para que las imágenes de fondo no salgan */
            z-index: 0; /* Detrás de todo */
        }

        .animated-background .bg-image {
            position: absolute;
            width: 80px;  /* Resolución fija */
            height: 80px; /* Resolución fija */
            object-fit: cover; /* Asegura que la imagen llene el espacio */
            border-radius: 50%; /* Hacerlas redondas */
            filter: grayscale(100%) blur(1px); /* Blanco y negro y ligeramente borrosas */
            opacity: 0.6; /* Más visibles y sin tanta transparencia */
            animation: floatAndRotate 20s linear infinite; /* Animación */
            pointer-events: none; /* No interactuables */
        }

        /* Posiciones iniciales aleatorias para las imágenes de fondo - Ajustadas para 17 imágenes únicas */
        .animated-background .bg-image:nth-child(1) { top: 10%; left: 5%; animation-delay: 0s; }
        .animated-background .bg-image:nth-child(2) { top: 30%; left: 20%; animation-delay: 3s; }
        .animated-background .bg-image:nth-child(3) { top: 50%; left: 80%; animation-delay: 6s; }
        .animated-background .bg-image:nth-child(4) { top: 70%; left: 10%; animation-delay: 9s; }
        .animated-background .bg-image:nth-child(5) { top: 20%; left: 70%; animation-delay: 12s; }
        .animated-background .bg-image:nth-child(6) { top: 80%; left: 50%; animation-delay: 15s; }
        .animated-background .bg-image:nth-child(7) { top: 5%; left: 90%; animation-delay: 18s; }
        .animated-background .bg-image:nth-child(8) { top: 60%; left: 15%; animation-delay: 1s; }
        .animated-background .bg-image:nth-child(9) { top: 15%; left: 55%; animation-delay: 4s; }
        .animated-background .bg-image:nth-child(10) { top: 85%; left: 30%; animation-delay: 7s; }
        .animated-background .bg-image:nth-child(11) { top: 35%; left: 95%; animation-delay: 10s; }
        .animated-background .bg-image:nth-child(12) { top: 5%; left: 35%; animation-delay: 13s; }
        .animated-background .bg-image:nth-child(13) { top: 75%; left: 75%; animation-delay: 16s; }
        .animated-background .bg-image:nth-child(14) { top: 25%; left: 5%; animation-delay: 19s; }
        .animated-background .bg-image:nth-child(15) { top: 90%; left: 65%; animation-delay: 2s; }
        .animated-background .bg-image:nth-child(16) { top: 45%; left: 45%; animation-delay: 5s; }
        .animated-background .bg-image:nth-child(17) { top: 55%; left: 95%; animation-delay: 8s; }


        @keyframes floatAndRotate {
            0% { transform: translate(0, 0) rotate(0deg) scale(1); opacity: 0.6; }
            25% { transform: translate(15vw, 15vh) rotate(90deg) scale(1.1); opacity: 0.7; }
            50% { transform: translate(-10vw, 30vh) rotate(180deg) scale(1); opacity: 0.6; }
            75% { transform: translate(20vw, 40vh) rotate(270deg) scale(0.9); opacity: 0.5; }
            100% { transform: translate(0, 0) rotate(360deg) scale(1); opacity: 0.6; }
        }

        /* --- Pantalla inicial con Snoopy (similar a intro-card-wrapper) --- */
        .intro-snoopy-wrapper {
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: opacity 0.5s ease-out; /* Solo para el fade out */
            z-index: 100; /* Siempre encima del fondo */
            background-color: white; /* Añade un fondo para que no se vea el fondo animado a través de Snoopy */
            border: 2px solid #f1c40f;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .intro-snoopy-wrapper.hidden {
            opacity: 0;
            pointer-events: none; /* Deshabilita clics cuando está oculto */
        }

        .mensaje-inicial {
            font-family: var(--font-fancy); /* Usa la fuente de fantasía */
            font-size: 2em; /* Hazlo más grande */
            color: var(--secondary-color); /* Usa el color secundario */
            margin-bottom: 15px;
            animation: pulsate 1.5s infinite; /* Cambiado a 'pulsate' */
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        @keyframes pulsate {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }

        .snoopy-img {
            width: 200px; /* Ajustado para mejor proporción */
            height: auto;
            cursor: pointer;
            transition: transform 0.4s ease;
        }

        .snoopy-img:hover {
            transform: scale(1.05);
        }

        /* --- Contenido principal de la carta (inicialmente oculto) --- */
        .carta-contenido {
            display: none; /* Oculto por defecto */
            background: rgba(255, 251, 230, 0.98); /* Fondo de la carta */
            border: 2px solid var(--card-border); /* Borde de la carta */
            border-radius: 20px;
            padding: 25px;
            max-width: 600px; /* Tamaño de la carta */
            width: 90%;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            animation: fadeInFromTop 1s ease forwards; /* Animación de entrada */
            z-index: 50; /* Por encima del fondo, pero debajo de la envoltura inicial */
            position: relative; /* Importante para que z-index funcione correctamente */
            overflow-y: auto; /* Scroll si el contenido es largo */
            max-height: 90vh; /* Para pantallas más pequeñas */
            text-align: left; /* Alineación del texto dentro de la carta */
        }

        @keyframes fadeInFromTop {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .carta-contenido h2 {
            font-size: 1.8em;
            color: var(--primary-color);
            margin-bottom: 15px;
            text-align: center;
        }

        .carta-contenido .snoopy-carta-img { /* Nueva clase para la imagen dentro de la carta */
            width: 150px; /* Ajusta el tamaño de la imagen dentro de la carta */
            display: block; /* Para centrarla con margin auto */
            margin: 0 auto 20px auto; /* Centra la imagen y da margen inferior */
            border-radius: 10px; /* Bordes suaves */
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .mensaje {
            font-size: 1.1em;
            line-height: 1.6;
            color: #555;
            text-align: justify;
        }

        .mensaje strong {
            color: var(--primary-color);
            font-weight: 700;
        }

        .mensaje .firma { /* Nueva clase para la firma */
            font-family: var(--font-fancy);
            font-size: 1.5em;
            text-align: right;
            margin-top: 20px;
            color: var(--secondary-color);
        }

        /* Estilos para los corazones flotantes */
        .corazon {
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--primary-color); /* Color rosa de los corazones */
            transform: rotate(-45deg);
            animation: flotar 10s linear infinite;
            z-index: 10; /* Los corazones deben estar por encima del fondo animado */
        }

        .corazon::before,
        .corazon::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--primary-color);
            border-radius: 50%;
        }

        .corazon::before {
            top: -10px;
            left: 0;
        }

        .corazon::after {
            left: 10px;
            top: 0;
        }

        @keyframes flotar {
            0% {
                transform: translateY(100vh) rotate(-45deg); /* Empieza desde abajo de la pantalla */
                opacity: 0;
            }
            10% {
                opacity: 1; /* Aparece rápidamente */
            }
            100% {
                transform: translateY(-100px) rotate(-45deg); /* Sube hasta un poco más allá de la parte superior */
                opacity: 0; /* Desaparece al salir */
            }
        }

        /* --- Responsive Design --- */
        @media (max-width: 768px) {
            .intro-snoopy-wrapper {
                max-width: 90%;
            }
            .snoopy-img {
                width: 180px;
            }
            .mensaje-inicial {
                font-size: 1.5em;
            }
            .carta-contenido {
                padding: 15px;
            }
            .mensaje {
                font-size: 0.95em;
            }
            .carta-contenido .snoopy-carta-img {
                width: 100px;
            }
        }

        @media (max-width: 480px) {
            .snoopy-img {
                width: 150px;
            }
            .mensaje-inicial {
                font-size: 1.2em;
            }
            .carta-contenido h2 {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>

    <div class="animated-background">
        <img src="img/1 (1).jpeg" alt="Background Image 1" class="bg-image">
        <img src="img/2.jpeg" alt="Background Image 2" class="bg-image">
        <img src="img/3.jpeg" alt="Background Image 3" class="bg-image">
        <img src="img/4.jpeg" alt="Background Image 4" class="bg-image">
        <img src="img/5.jpeg" alt="Background Image 5" class="bg-image">
        <img src="img/6.jpeg" alt="Background Image 6" class="bg-image">
        <img src="img/7.jpeg" alt="Background Image 7" class="bg-image">
        <img src="img/8.jpeg" alt="Background Image 8" class="bg-image">
        <img src="img/9.jpeg" alt="Background Image 9" class="bg-image">
        <img src="img/10.jpeg" alt="Background Image 10" class="bg-image">
        <img src="img/11.jpeg" alt="Background Image 11" class="bg-image">
        <img src="img/12.jpeg" alt="Background Image 12" class="bg-image">
        <img src="img/13.jpeg" alt="Background Image 13" class="bg-image">
        <img src="img/15.jpeg" alt="Background Image 14" class="bg-image">
        <img src="img/16.jpeg" alt="Background Image 15" class="bg-image">
        <img src="img/17.jpeg" alt="Background Image 16" class="bg-image">
        <img src="img/18.jpeg" alt="Background Image 17" class="bg-image">
        </div>

    <div class="container">
        <div class="intro-snoopy-wrapper" id="introSnoopyWrapper">
            <div class="mensaje-inicial">Toca a Snoopy 💖💌</div>
            <img src="https://upload.wikimedia.org/wikipedia/en/5/53/Snoopy_Peanuts.png"
                 alt="Snoopy con carta" class="snoopy-img" id="abrirCarta">
        </div>

        <div class="carta-contenido" id="contenidoCarta">
            <h2>¡Nuestra Historia de Amor!</h2> <img src="https://upload.wikimedia.org/wikipedia/en/5/53/Snoopy_Peanuts.png" alt="Snoopy enamorado" class="snoopy-carta-img">
            <div class="mensaje">
                Hoy cumplimos 11 meses caminando juntos como novios, pero la verdad es que nuestras historias llevan mucho más tiempo entrelazadas. Desde pequeños, la vida ya nos estaba escribiendo en la misma página, como si supiera que un día tú y yo íbamos a mirarnos con otros ojos… con los de quien ama, cuida y elige cada día.<br><br>
                Estos 11 meses han sido un regalo que no cambio por nada: con risas, abrazos largos, miradas cómplices y momentos que ya viven en mi corazón. Gracias por ser mi alegría constante, mi refugio y mi mejor amiga desde siempre.<br><br>
                A veces pienso que el amor verdadero no se encuentra… se reconoce. Y yo te reconocí desde niño, como quien siempre supo dónde pertenecía.<br><br>
                <strong>Feliz 11 meses, amor.</strong> Y que vengan mil meses más, porque contigo todo tiene sentido.<br><br>
                Con todo mi amor,<br>
                <span class="firma">[Tu Nombre]</span>
            </div>
        </div>
    </div>

    <script>
        const abrirCartaBtn = document.getElementById('abrirCarta');
        const contenidoCarta = document.getElementById('contenidoCarta');
        const introSnoopyWrapper = document.getElementById('introSnoopyWrapper');
        let corazonesActivos = false;

        abrirCartaBtn.addEventListener('click', () => {
            // Oculta la envoltura de Snoopy con una transición
            introSnoopyWrapper.classList.add('hidden');

            // Después de que la transición termine, oculta Snoopy y muestra la carta
            introSnoopyWrapper.addEventListener('transitionend', () => {
                introSnoopyWrapper.style.display = 'none'; // Oculta completamente el contenedor inicial
                contenidoCarta.style.display = 'block'; // Muestra el contenido de la carta
            }, { once: true }); // Asegura que el evento solo se dispare una vez

            // Activa la generación de corazones
            if (!corazonesActivos) {
                setInterval(() => {
                    const corazon = document.createElement("div");
                    corazon.classList.add("corazon");
                    // Posiciona el corazón en la parte inferior de la pantalla al inicio
                    corazon.style.left = Math.random() * 100 + "vw";
                    // Duración de la animación un poco más larga y variada
                    corazon.style.animationDuration = Math.random() * 8 + 7 + "s"; // entre 7 y 15 segundos
                    document.body.appendChild(corazon);
                    // Elimina el corazón después de que termine su animación para no acumular elementos
                    setTimeout(() => corazon.remove(), parseFloat(corazon.style.animationDuration) * 1000);
                }, 300); // Genera un corazón cada 300ms
                corazonesActivos = true;
            }
        });
    </script>

</body>
</html>
